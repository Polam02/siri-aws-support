AWSTemplateFormatVersion: 2010-09-09
Description: Create SecretsManager for GPSS Main
Parameters:
  GPSSCarrierBatchSize:
    Description: Specify Batch Size in Number
    Type: Number
Resources:
  MySecretA:
    Type: 'AWS::SecretsManager::Secret'
    Properties:
      Name: GPSS_Main_Secrets
      Description: This secret has a dynamically generated secret password.
      GenerateSecretString:
        SecretStringTemplate: !Join
           - ""
           - - '{"GPSS_MAIN_POST_CARRIER_BATCH_SIZE":'
             - !Ref GPSSCarrierBatchSize
             - '}'
        GenerateStringKey: password
        PasswordLength: 30
        ExcludeCharacters: '"@/\'
      Tags:
        - Key: AppName
          Value: AppA